import{u as q}from"./composables.942e6ece.js";import{a as p,b as oe,e as j,f as le,h as T,F as D,r as y,w as ie,i as w,p as H,j as F,u as g,k as V,l as se,o as k,m as E,q as v,c as $,s as M,t as L,v as ue,x as ce,y as de,z as C,A as pe,B as me,C as fe}from"./entry.5dfee6aa.js";const ge=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),x=(e,t)=>(r,n)=>(q(()=>e({...ge(r),...n.attrs},n)),()=>{var a,o;return t?(o=(a=n.slots).default)==null?void 0:o.call(a):null}),_={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:String,contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String};p({name:"NoScript",inheritAttrs:!1,props:{..._,title:String,body:Boolean,renderPriority:[String,Number]},setup:x((e,{slots:t})=>{var a;const r={...e},n=(((a=t.default)==null?void 0:a.call(t))||[]).filter(({children:o})=>o).map(({children:o})=>o).join("");return n&&(r.children=n),{noscript:[r]}})});p({name:"Link",inheritAttrs:!1,props:{..._,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String,body:Boolean,renderPriority:[String,Number]},setup:x(e=>({link:[e]}))});p({name:"Base",inheritAttrs:!1,props:{..._,href:String,target:String},setup:x(e=>({base:e}))});const he=p({name:"Title",inheritAttrs:!1,setup:x((e,{slots:t})=>{var n,a,o;return{title:((o=(a=(n=t.default)==null?void 0:n.call(t))==null?void 0:a[0])==null?void 0:o.children)||null}})});p({name:"Meta",inheritAttrs:!1,props:{..._,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:x(e=>{const t={...e};return t.httpEquiv&&(t["http-equiv"]=t.httpEquiv,delete t.httpEquiv),{meta:[t]}})});p({name:"Style",inheritAttrs:!1,props:{..._,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0},body:Boolean,renderPriority:[String,Number]},setup:x((e,{slots:t})=>{var a,o,l;const r={...e},n=(l=(o=(a=t.default)==null?void 0:a.call(t))==null?void 0:o[0])==null?void 0:l.children;return n&&(r.children=n),{style:[r]}})});const ve=p({name:"Head",inheritAttrs:!1,setup:(e,t)=>()=>{var r,n;return(n=(r=t.slots).default)==null?void 0:n.call(r)}});p({name:"Html",inheritAttrs:!1,props:{..._,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:x(e=>({htmlAttrs:e}),!0)});p({name:"Body",inheritAttrs:!1,props:{..._,renderPriority:[String,Number]},setup:x(e=>({bodyAttrs:e}),!0)});function ye(){const e=oe("theme",()=>null);j(()=>{e.value=localStorage.getItem("theme")==="dark"});const t=()=>{e.value=!e.value,localStorage.setItem("theme",e.value?"dark":"light"),r()};function r(){const n=localStorage.getItem("theme");n==="dark"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.setAttribute("data-theme","dark"),e.value=!0):(document.documentElement.removeAttribute("data-theme"),e.value=!1)}return{enabled:e,toggleTheme:t,setTheme:r}}function K(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,K),n}var be=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(be||{}),Se=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Se||{});function O({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...a}){var o;let l=we(n,r),u=Object.assign(a,{props:l});if(e||t&2&&l.static)return N(u);if(t&1){let i=(o=l.unmount)==null||o?0:1;return K(i,{[0](){return null},[1](){return N({...a,props:{...l,hidden:!0,style:{display:"none"}}})}})}return N(u)}function N({props:e,attrs:t,slots:r,slot:n,name:a}){var o;let{as:l,...u}=W(e,["unmount","static"]),i=(o=r.default)==null?void 0:o.call(r,n),f={};if(n){let d=!1,h=[];for(let[m,b]of Object.entries(n))typeof b=="boolean"&&(d=!0),b===!0&&h.push(m);d&&(f["data-headlessui-state"]=h.join(" "))}if(l==="template"){if(i=G(i!=null?i:[]),Object.keys(u).length>0||Object.keys(t).length>0){let[d,...h]=i!=null?i:[];if(!xe(d)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).sort((m,b)=>m.localeCompare(b)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));return le(d,Object.assign({},u,f))}return Array.isArray(i)&&i.length===1?i[0]:i}return T(l,Object.assign({},u,f),{default:()=>i})}function G(e){return e.flatMap(t=>t.type===D?G(t.children):[t])}function we(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](a,...o){let l=r[n];for(let u of l){if(a instanceof Event&&a.defaultPrevented)return;u(a,...o)}}});return t}function ke(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function W(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function xe(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let _e=0;function je(){return++_e}function z(){return je()}var U=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(U||{});function B(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}function R(e,t){if(e)return e;let r=t!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Ee(e,t){let r=y(R(e.value.type,e.value.as));return j(()=>{r.value=R(e.value.type,e.value.as)}),ie(()=>{var n;r.value||!B(t)||B(t)instanceof HTMLButtonElement&&!((n=B(t))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}var Y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Y||{});let Oe=p({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:r}){return()=>{let{features:n,...a}=e,o={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return O({ourProps:o,theirProps:a,slot:{},attrs:r,slots:t,name:"Hidden"})}}});function Ae(e){var t;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let n of r.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function Pe(e,t,r){let n=y(r==null?void 0:r.value),a=w(()=>e.value!==void 0);return[w(()=>a.value?e.value:n.value),function(o){return a.value||(n.value=o),t==null?void 0:t(o)}]}let J=Symbol("DescriptionContext");function Ce(){let e=V(J,null);if(e===null)throw new Error("Missing parent");return e}function Be({slot:e=y({}),name:t="Description",props:r={}}={}){let n=y([]);function a(o){return n.value.push(o),()=>{let l=n.value.indexOf(o);l!==-1&&n.value.splice(l,1)}}return H(J,{register:a,slot:e,name:t,props:r}),w(()=>n.value.length>0?n.value.join(" "):void 0)}let Ze=p({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${z()}`}},setup(e,{attrs:t,slots:r}){let n=Ce();return j(()=>F(n.register(e.id))),()=>{let{name:a="Description",slot:o=y({}),props:l={}}=n,{id:u,...i}=e,f={...Object.entries(l).reduce((d,[h,m])=>Object.assign(d,{[h]:g(m)}),{}),id:u};return O({ourProps:f,theirProps:i,slot:o.value,attrs:t,slots:r,name:a})}}}),Q=Symbol("LabelContext");function X(){let e=V(Q,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return e}function $e({slot:e={},name:t="Label",props:r={}}={}){let n=y([]);function a(o){return n.value.push(o),()=>{let l=n.value.indexOf(o);l!==-1&&n.value.splice(l,1)}}return H(Q,{register:a,slot:e,name:t,props:r}),w(()=>n.value.length>0?n.value.join(" "):void 0)}let et=p({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${z()}`}},setup(e,{slots:t,attrs:r}){let n=X();return j(()=>F(n.register(e.id))),()=>{let{name:a="Label",slot:o={},props:l={}}=n,{id:u,passive:i,...f}=e,d={...Object.entries(l).reduce((h,[m,b])=>Object.assign(h,{[m]:g(b)}),{}),id:u};return i&&(delete d.onClick,delete f.onClick),O({ourProps:d,theirProps:f,slot:o,attrs:r,slots:t,name:a})}}}),Z=Symbol("GroupContext");p({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=y(null),a=$e({name:"SwitchLabel",props:{onClick(){!n.value||(n.value.click(),n.value.focus({preventScroll:!0}))}}}),o=Be({name:"SwitchDescription"});return H(Z,{switchRef:n,labelledby:a,describedby:o}),()=>O({theirProps:e,ourProps:{},slot:{},slots:t,attrs:r,name:"SwitchGroup"})}});let Ne=p({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${z()}`}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:a}){let o=V(Z,null),[l,u]=Pe(w(()=>e.modelValue),s=>t("update:modelValue",s),w(()=>e.defaultChecked));function i(){u(!l.value)}let f=y(null),d=o===null?f:o.switchRef,h=Ee(w(()=>({as:e.as,type:r.type})),d);a({el:d,$el:d});function m(s){s.preventDefault(),i()}function b(s){s.key===U.Space?(s.preventDefault(),i()):s.key===U.Enter&&Ae(s.currentTarget)}function ee(s){s.preventDefault()}let A=w(()=>{var s,S;return(S=(s=B(d))==null?void 0:s.closest)==null?void 0:S.call(s,"form")});return j(()=>{se([A],()=>{if(!A.value||e.defaultChecked===void 0)return;function s(){u(e.defaultChecked)}return A.value.addEventListener("reset",s),()=>{var S;(S=A.value)==null||S.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{id:s,name:S,value:te,...ne}=e,re={checked:l.value},ae={id:s,ref:d,role:"switch",type:h.value,tabIndex:0,"aria-checked":l.value,"aria-labelledby":o==null?void 0:o.labelledby.value,"aria-describedby":o==null?void 0:o.describedby.value,onClick:m,onKeyup:b,onKeypress:ee};return T(D,[S!=null&&l.value!=null?T(Oe,ke({features:Y.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:l.value,name:S,value:te})):null,O({ourProps:ae,theirProps:{...r,...W(ne,["modelValue","defaultChecked"])},slot:re,attrs:r,slots:n,name:"Switch"})])}}});function Te(e,t){return k(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[v("path",{"fill-rule":"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z","clip-rule":"evenodd"})])}function Me(e,t){return k(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[v("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})])}const Ue=v("span",{class:"sr-only"},"Mode setting",-1),De=p({__name:"ModeSwitch",setup(e){q({script:[{children:`if (localStorage.theme === "dark" || (!('theme' in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      document.documentElement.setAttribute("data-theme", "dark")
    } else {
      document.documentElement.removeAttribute("data-theme")
    }`}]});const{setTheme:t,enabled:r,toggleTheme:n}=ye();return(a,o)=>(k(),E("div",null,[g(r)!==null?(k(),$(g(Ne),{key:0,modelValue:g(r),"onUpdate:modelValue":o[0]||(o[0]=l=>ue(r)?r.value=l:null),onClick:g(n),class:L([g(r)?"bg-black":"bg-orange-50","relative inline-flex h-[38px] w-[74px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:M(()=>[Ue,v("span",{"aria-hidden":"true",class:L([g(r)?"translate-x-9":"translate-x-0","pointer-events-none inline-block transform shadow-lg ring-0 transition duration-200 ease-in-out"])},[g(r)?(k(),$(g(Te),{key:0,class:"h-[34px] w-[34px] fill-gray-300"})):(k(),$(g(Me),{key:1,class:"h-[34px] w-[34px] fill-yellow-500"}))],2)]),_:1},8,["modelValue","onClick","class"])):ce("",!0)]))}}),He={},Ve={class:"flex items-center justify-between bg-gray-200 dark:bg-gray-900 h-24 w-full overflow-hidden px-5"},ze=v("div",null,null,-1);function Le(e,t){const r=De;return k(),E("div",Ve,[ze,C(r)])}const Re=de(He,[["render",Le]]);let P;const Ie=new Uint8Array(16);function qe(){if(!P&&(P=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!P))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P(Ie)}const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function Fe(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}const Ke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I={randomUUID:Ke};function Ge(e,t,r){if(I.randomUUID&&!t&&!e)return I.randomUUID();e=e||{};const n=e.random||(e.rng||qe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return Fe(n)}const We={class:"h-screen w-full grid place-items-center bg-gray-200 dark:bg-black"},Ye={class:"flex flex-col items-centers space-y-4"},Je={class:"text-slate-900 dark:text-gray-100"},tt=p({__name:"index",setup(e){const t=y(""),{$socket:r}=pe(),n=Ge();j(()=>{r.onopen=()=>{localStorage.setItem(`connection-${n}`,n),r.send(n)},r.onmessage=({data:o})=>{console.log("data",o),t.value=o},r.onclose=function(){console.log("disconnected")}});const a=()=>{fetch("/api/sendmessage",{method:"POST",body:JSON.stringify({message:Math.random(),sender:localStorage.getItem(`connection-${n}`)})}).then(o=>o.json()).then(o=>{console.log("sent")})};return(o,l)=>{const u=he,i=ve,f=Re;return k(),E(D,null,[C(i,null,{default:M(()=>[C(u,null,{default:M(()=>[fe("Nuxt 3 Websocket")]),_:1})]),_:1}),C(f),v("div",We,[v("span",Ye,[v("span",Je,me(g(t)),1),v("button",{onClick:a,class:"bg-purple-500 text-gray-50 font-semibold px-5 py-2 rounded-lg"},"Click me to send random number")])])],64)}}});export{tt as default};
